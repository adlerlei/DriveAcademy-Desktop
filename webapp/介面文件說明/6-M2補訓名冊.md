# 開發文件：M2補訓名冊

## 1. 總覽

此功能用於處理學員因故需參加補訓（如補筆試、補路試）的名冊作業。操作人員可以查詢到特定學員後，為其設定補訓相關的資訊，並將其加入 M2 補訓名冊中，最終可列印出報表。

## 2. 功能區塊說明

### A. 學員查詢區

說明：此區塊的欄位用於查詢學員資料。輸入任一欄位資訊後，系統會自動查找並帶入學員的詳細資料。

- **欄位：學員編號**
  - UI 元件：文字輸入框
  - 資料來源：使用者輸入（用於查詢）

- **欄位：學員姓名**
  - UI 元件：文字輸入框
  - 資料來源：使用者輸入（用於查詢）

- **欄位：身分證號**
  - UI 元件：文字輸入框
  - 資料來源：使用者輸入（用於查詢）

### B. 學員資料顯示區（部分唯讀）

說明：查詢到學員後，其相關資料會顯示在此。部分欄位為唯讀，部分欄位雖會自動帶入但仍可修改。

- **唯讀欄位：**
  - 出生日期
  - 性別
  - 梯次
  - 訓練班別
  - 戶籍地址（包含郵遞區號、縣市、詳細地址）

- **可編輯欄位（會自動帶入舊資料）：**
  - 學照日期：會自動帶入學員原有的學照日期，可修改
  - 名冊號碼：會自動帶入學員原有的名冊號碼，可修改
  - 期別：會自動帶入學員原有的期別，可修改

### C. M2補訓登錄區（可編輯）

- **欄位：來源**
  - UI 元件：2個連動的下拉選單（代碼、名稱）
  - 固定資料：
    - 'A'：新考
    - 'B'：晉考
    - 'C'：換考
    - 'G'：吊扣註銷重考
    - 'Z'：臨時駕駛執照

- **欄位：手自排**
  - UI 元件：2個連動的下拉選單（代碼、名稱）
  - 固定資料：
    - 'M'：手排
    - 'A'：自排
    - 'S'：特製車

- **欄位：指導教練**
  - UI 元件：2個連動的下拉選單（編號、姓名）
  - 資料來源：從「教練資料作業」中已建檔的教練資料庫抓取

- **欄位：筆路**
  - UI 元件：下拉選單
  - 說明：選擇學員要補考的項目，此為必填欄位
  - 固定資料：'補筆試', '補路試'

## 3. 功能按鈕

- **加入M2補訓**
  - 功能：將目前設定的補訓資訊更新至學員資料庫，並將該學員加入下方的 M2 補訓名冊清單中
  - 前置條件：必須先查詢到學員，且「筆路」欄位必須選擇

- **列印M2補訓（駕訓班用）**
  - 功能：產生一份供駕訓班內部使用的 M2 補訓名冊報表並觸發列印

- **列印M2補訓（監理站用）**
  - 功能：產生一份符合監理站報備格式的官方 M2 補訓名冊報表並觸發列印。報表會包含男、女及總人數統計

## 4. M2補訓名冊清單

- **UI 元件**：表格（Data Grid / Table）
- **說明**：用於暫存本次操作中，所有已加入 M2 補訓名冊的學員
- **列表欄位**：
  - 名冊號碼
  - 學員編號
  - 梯次
  - 學員姓名
  - 來源
  - 手自排
  - 教練
  - 身分證號
  - 學照日期
  - 性別
  - 出生日期
  - 區號
  - 戶籍地址