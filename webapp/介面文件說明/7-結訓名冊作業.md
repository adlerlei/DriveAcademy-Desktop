# 開發文件：結訓名冊作業

## 1. 總覽

此功能用於製作學員的結訓名冊。操作人員可以查詢已在開訓名冊中的學員，為其更新結訓狀態（如是否退訓、最終指導教練等），並將其加入結訓清單中，最終可列印出報表。

## 2. 功能區塊說明

### A. 學員查詢區

說明：此區塊的欄位用於查詢學員資料。輸入任一欄位資訊後，系統會自動查找並帶入學員的詳細資料。

- **欄位：學員編號**
  - UI 元件：文字輸入框
  - 資料來源：使用者輸入（用於查詢）

- **欄位：學員姓名**
  - UI 元件：文字輸入框
  - 資料來源：使用者輸入（用於查詢）

- **欄位：身分證號**
  - UI 元件：文字輸入框
  - 資料來源：使用者輸入（用於查詢）

### B. 學員資料顯示區（部分唯讀）

說明：查詢到學員後，其相關資料會顯示在此。部分欄位為唯讀，部分欄位雖會自動帶入但仍可修改。

- **唯讀欄位：**
  - 出生日期
  - 性別
  - 梯次 / 名冊梯次
  - 訓練班別
  - 戶籍地址（包含郵遞區號、縣市、詳細地址）

- **可編輯欄位（會自動帶入舊資料）：**
  - 學照日期：會自動帶入學員原有的學照日期，可修改
  - 名冊號碼：會自動帶入學員原有的名冊號碼，可修改
  - 期別：會自動帶入學員原有的期別，可修改

### C. 結訓登錄區（可編輯）

- **欄位：指導教練**
  - UI 元件：2個連動的下拉選單（編號、姓名）
  - 說明：更新或確認學員的最終指導教練
  - 資料來源：從「教練資料作業」中已建檔的教練資料庫抓取

- **欄位：手自排**
  - UI 元件：2個連動的下拉選單（代碼、名稱）
  - 說明：更新或確認學員報考的車輛類型
  - 固定資料：
    - 'M'：手排
    - 'A'：自排
    - 'S'：特製車

- **欄位：退訓**
  - UI 元件：下拉選單
  - 說明：標記學員是否已退訓。此為必填欄位
  - 固定資料：
    - '是'
    - '否'

## 3. 功能按鈕

- **加入結訓名冊**
  - 功能：將目前設定的結訓資訊（特別是退訓狀態）更新至學員資料庫，並將該學員加入下方的結訓名冊清單中
  - 前置條件：必須先查詢到一位學員，且所有必填欄位（如退訓、手自排、教練）皆已選擇

- **匯出文件**
  - 功能：將下方結訓名冊清單中的所有學員資料，匯出成外部文件

- **列印結訓名冊（監理所用）**
  - 功能：產生一份符合監理所報備格式的官方結訓名冊報表並觸發列印

- **列印結訓名冊（駕訓班用）**
  - 功能：產生一份供駕訓班內部使用的結訓名冊報表並觸發列印

## 4. 結訓名冊清單

- **UI 元件**：表格（Data Grid / Table）
- **說明**：用於暫存本次操作中，所有已加入結訓名冊的學員
- **列表欄位**：
  - 名冊號碼
  - 梯次
  - 學員編號
  - 學員姓名
  - 退訓
  - 手自排
  - 教練
  - 性別
  - 出生日期
  - 身分證號
  - 區號
  - 戶籍地址
  - 學照日期